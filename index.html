<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warwick Top - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg: #0a0a0a;
            --card: rgba(20, 20, 20, 0.9);
            --green: #0aff6c;
            --red: #ff0a43;
            --yellow: #ffcc00;
            --text: #eee;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Roboto', sans-serif;
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 80px;
            /* Gestion du fond d'√©cran dynamique */
            background-image: url('https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Warwick_0.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            transition: background-image 0.5s ease-in-out;
        }

        /* Overlay sombre pour la lisibilit√© */
        .bg-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.75); /* Assombrit l'image */
            z-index: -1;
            pointer-events: none;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        /* Skin Selector */
        .skin-selector {
            position: absolute; top: 20px; right: 20px;
            background: rgba(0,0,0,0.8); border: 1px solid var(--green); color: var(--green);
            padding: 5px 10px; border-radius: 5px; cursor: pointer; font-family: 'Roboto';
        }

        h1 { 
            font-family: 'Anton', sans-serif; font-size: 4rem; margin-bottom: 30px; 
            text-shadow: 0 0 20px rgba(10, 255, 108, 0.3);
        }
        .green { color: var(--green); }

        /* Search & Filters */
        .search-box { position: relative; max-width: 500px; margin: 0 auto 30px auto; }
        .search-box input {
            width: 100%; padding: 15px 50px 15px 25px; border-radius: 50px;
            border: 2px solid #333; outline: none; background: #000; color: white; font-size: 1.2rem;
        }
        .search-box input:focus { border-color: var(--green); box-shadow: 0 0 15px var(--green); }
        .search-box i { position: absolute; right: 25px; top: 50%; transform: translateY(-50%); color: var(--green); }

        .filters { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .filter-btn {
            background: rgba(0,0,0,0.6); border: 2px solid #444; color: #888;
            padding: 10px 25px; font-family: 'Anton', sans-serif; font-size: 1.1rem;
            cursor: pointer; transition: 0.3s; border-radius: 4px; text-transform: uppercase;
        }
        .filter-btn:hover { transform: translateY(-3px); color: white; border-color: white; }
        .filter-btn.active { background: white; color: black; border-color: white; }
        .filter-btn.easy:hover, .filter-btn.easy.active { border-color: var(--green); color: var(--green); background: black; }
        .filter-btn.medium:hover, .filter-btn.medium.active { border-color: var(--yellow); color: var(--yellow); background: black; }
        .filter-btn.hard:hover, .filter-btn.hard.active { border-color: var(--red); color: var(--red); background: black; }

        /* Grid */
        #grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 30px; padding: 20px 50px; max-width: 1400px; margin: 0 auto;
        }

        .card {
            background: var(--card); border: 1px solid #333; border-radius: 8px;
            overflow: hidden; cursor: pointer; transition: 0.3s; position: relative;
        }
        .card:hover { transform: translateY(-10px); border-color: var(--green); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .card img { width: 100%; height: 140px; object-fit: cover; object-position: top; border-bottom: 2px solid var(--green); }
        .card h3 { padding: 15px; text-align: center; font-family: 'Anton'; font-size: 1.5rem; letter-spacing: 1px; margin: 0; }

        .difficulty {
            position: absolute; top: 10px; right: 10px; padding: 5px 10px; font-size: 0.8rem; font-weight: bold;
            border-radius: 4px; text-transform: uppercase; color: black;
        }
        .easy { background: var(--green); }
        .medium { background: var(--yellow); }
        .hard { background: var(--red); color: white; }

        /* CHEESE ICON */
        .cheese-icon {
            position: absolute; top: 10px; left: 10px; 
            font-size: 1.5rem; filter: drop-shadow(0 0 5px black);
            animation: bounce 2s infinite;
        }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-5px);} }

        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 100; backdrop-filter: blur(5px); }
        .modal-content {
            background: #111; width: 90%; max-width: 800px; margin: 5% auto;
            border: 1px solid var(--green); border-radius: 8px; animation: popIn 0.3s;
        }
        @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        #modal-header {
            height: 200px; background-size: cover; background-position: center; position: relative;
            padding: 30px; border-bottom: 2px solid var(--green); display: flex; flex-direction: column; justify-content: flex-end;
        }
        #modal-header::after { content:''; position: absolute; top:0; left:0; width:100%; height:100%; background: linear-gradient(to top, #111, transparent); }

        .modal-info-row { position: relative; z-index: 2; display: flex; justify-content: space-between; align-items: flex-end; width: 100%; }
        #modal-title { font-family: 'Anton'; font-size: 3.5rem; text-shadow: 3px 3px 0 #000; color: white; margin: 0; line-height: 1; }

        /* Spell & Ult & Youtube */
        .meta-container { display: flex; flex-direction: column; align-items: flex-end; gap: 5px; }
        #summoner-spells { display: flex; gap: 5px; }
        .spell-icon { width: 40px; height: 40px; border: 2px solid var(--green); border-radius: 5px; background: black; }
        
        .ult-timer { font-size: 0.9rem; color: #aaa; background: rgba(0,0,0,0.7); padding: 5px 10px; border-radius: 4px; border: 1px solid #444; }
        .ult-timer span { color: var(--green); font-weight: bold; }

        .youtube-btn {
            display: inline-block; background: #cc0000; color: white; padding: 5px 15px;
            font-size: 0.9rem; font-weight: bold; text-decoration: none; border-radius: 4px;
            margin-top: 5px; border: 1px solid #ff4444; transition: 0.2s;
        }
        .youtube-btn:hover { background: red; transform: scale(1.05); }

        .close-btn { position: absolute; top: 20px; right: 30px; font-size: 40px; cursor: pointer; color: white; z-index: 10; transition: 0.2s; }
        .close-btn:hover { color: var(--green); }

        .modal-body { padding: 30px; display: flex; gap: 30px; }
        .strategy-section { flex: 1; }
        .notes-section { flex: 1; display: flex; flex-direction: column; }

        .box { padding: 15px; background: #222; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #555; }
        .box.pros { border-color: var(--green); }
        .box.cons { border-color: var(--red); }
        .box h3 { font-size: 1.1rem; color: #fff; margin-bottom: 10px; font-family: 'Anton'; }

        textarea { width: 100%; height: 200px; background: #0a0a0a; border: 1px solid #333; color: var(--green); padding: 15px; resize: none; margin-bottom: 15px; font-family: monospace; font-size: 1rem; }
        textarea:focus { border-color: var(--green); outline: none; }
        #save-btn { width: 100%; padding: 15px; background: var(--green); color: black; border: none; font-weight: bold; cursor: pointer; font-family: 'Anton'; font-size: 1.2rem; transition: 0.3s; }
        #save-btn:hover { background: white; }
        #save-msg { display: block; text-align: center; color: var(--green); margin-top: 10px; opacity: 0; transition: 0.3s; }

        /* Footer */
        footer { position: fixed; bottom: 0; width: 100%; text-align: center; padding: 15px; background: rgba(0,0,0,0.9); border-top: 1px solid #333; }
        .data-btn { background: #333; color: #aaa; border: 1px solid #444; padding: 5px 15px; cursor: pointer; font-size: 0.8rem; margin: 0 5px; border-radius: 3px; }
        .data-btn:hover { color: white; border-color: white; }

        @media (max-width: 800px) {
            .modal-body { flex-direction: column; }
            h1 { font-size: 3rem; }
            .skin-selector { top: 10px; right: 10px; font-size: 0.8rem; }
        }
    </style>
</head>
<body>

    <div class="bg-overlay"></div>

    <header>
        <select id="skin-select" class="skin-selector" onchange="changeSkin(this.value)">
            <option value="0">Classique</option>
            <option value="7">Warwick Hy√®ne</option>
            <option value="10">PROJET: Warwick</option>
            <option value="16">Dieu Ancien</option>
            <option value="19">Warwick Hiver √âlu</option>
            <option value="45">Prestige</option>
            <option value="8">Maraudeur</option>
            <option value="2">Warwick de la Toundra</option>
        </select>

        <h1>WARWICK <span class="green">TOP</span></h1>
        
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Chercher un champion...">
        </div>

        <div class="filters">
            <button class="filter-btn active" onclick="filterData('all')">TOUT VOIR</button>
            <button class="filter-btn easy" onclick="filterData('easy')">FACILE</button>
            <button class="filter-btn medium" onclick="filterData('medium')">MOYEN</button>
            <button class="filter-btn hard" onclick="filterData('hard')">ENFER</button>
        </div>
    </header>

    <main id="grid">
        </main>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div id="modal-header">
                <div class="modal-info-row">
                    <h2 id="modal-title">CHAMPION</h2>
                    <div class="meta-container">
                        <div id="summoner-spells"></div>
                        <div id="ult-timer-display" class="ult-timer"></div>
                        <div id="youtube-container"></div>
                    </div>
                </div>
            </div>
            
            <div class="modal-body">
                <div class="strategy-section">
                    <div class="box pros">
                        <h3><i class="fas fa-check"></i> POINTS FORTS</h3>
                        <p id="modal-pros"></p>
                    </div>
                    <div class="box cons">
                        <h3><i class="fas fa-times"></i> POINTS FAIBLES</h3>
                        <p id="modal-cons"></p>
                    </div>
                </div>

                <div class="notes-section">
                    <h3><i class="fas fa-pencil-alt"></i> MES NOTES</h3>
                    <textarea id="user-notes" placeholder="Mes astuces perso..."></textarea>
                    <button id="save-btn">SAUVEGARDER</button>
                    <span id="save-msg">Sauvegard√© !</span>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <button id="export-btn" class="data-btn"><i class="fas fa-download"></i> Sauvegarder mes notes</button>
        <button id="import-btn-trigger" class="data-btn"><i class="fas fa-upload"></i> Charger un fichier</button>
        <input type="file" id="import-file" style="display: none;">
    </footer>

    <script>
        // --- CONFIG ---
        const spellUrl = (spell) => `https://ddragon.leagueoflegends.com/cdn/13.24.1/img/spell/Summoner${spell}.png`;

        // --- DATA (Avec Ult Timer + Cheese) ---
        const data = [
            { id: "Darius", name: "Darius", diff: "hard", img: "Darius", spells: ["Flash", "Barrier"], 
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Gagne les courts trades si tu esquives son A (Q) externe. E pour r√©duire les d√©g√¢ts.",
              cons: "5 stacks = mort. Ne fight jamais longtemps sans ton E." },
              
            { id: "Garen", name: "Garen", diff: "medium", img: "Garen", spells: ["Flash", "Barrier"],
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Utilise E quand il fonce avec son A (Silence). Heal sur les sbires.",
              cons: "Son R + Ignite t'ex√©cute de tr√®s loin." },
              
            { id: "Teemo", name: "Teemo", diff: "easy", img: "Teemo", spells: ["Flash", "Ignite"],
              ult: "30s / 25s / 20s", cheese: false,
              pros: "Niveau 6 : R + Ignite = Kill garanti. Ton Q suit son Flash.",
              cons: "Le blind emp√™che le soin. Ne prends pas de poke gratuit." },
              
            { id: "Sett", name: "Sett", diff: "hard", img: "Sett", spells: ["Flash", "Barrier"],
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Q-hold pour passer derri√®re lui quand il charge son Z.",
              cons: "Burst √©norme. Ne le laisse pas te grab dans ses sbires." },

            { id: "Jax", name: "Jax", diff: "medium", img: "Jax", spells: ["Flash", "Barrier"],
              ult: "80s / 80s / 80s", cheese: false,
              pros: "Active E pendant son h√©lico (E). Fear-le avant le stun.",
              cons: "Il outscale tr√®s fort. Ne laisse pas la game durer." },
              
            { id: "Fiora", name: "Fiora", diff: "hard", img: "Fiora", spells: ["Flash", "Ignite"],
              ult: "110s / 90s / 70s", cheese: true,
              pros: "Colle-toi aux murs pour cacher tes points vitaux. Cheese niveau 1 possible dans bush.",
              cons: "Si elle pare (W) ton Fear, tu es mort." },
              
            { id: "Renekton", name: "Renekton", diff: "medium", img: "Renekton", spells: ["Flash", "Barrier"],
              ult: "120s (Flat)", cheese: false,
              pros: "Ton E tank son burst. Soigne-toi quand il n'a plus de rage.",
              cons: "Son Z renforc√© brise ton bouclier." },
              
            { id: "Riven", name: "Riven", diff: "medium", img: "Riven", spells: ["Flash", "Barrier"],
              ult: "120s / 90s / 60s", cheese: true,
              pros: "Ton E annule son burst. Tu peux la cheese niveau 1 si elle Q3 dans le vide.",
              cons: "Trop mobile. Difficile √† attraper." },
              
            { id: "Irelia", name: "Irelia", diff: "hard", img: "Irelia", spells: ["Flash", "Barrier"],
              ult: "140s / 120s / 100s", cheese: true,
              pros: "Fear-la quand elle Q sur toi. Cheese-la niveau 1 si elle n'a pas de stack.",
              cons: "Si elle a 4 stacks de passif, ne fight pas." },
              
            { id: "Camille", name: "Camille", diff: "easy", img: "Camille", spells: ["Flash", "Barrier"],
              ult: "140s / 115s / 90s", cheese: true,
              pros: "Ton Fear annule son grappin (E).",
              cons: "D√©g√¢ts bruts en late game." },
              
            { id: "Aatrox", name: "Aatrox", diff: "medium", img: "Aatrox", spells: ["Flash", "Ignite"],
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Q-hold pour esquiver ses zones.",
              cons: "Il se soigne trop. Anti-heal obligatoire." },

            { id: "Malphite", name: "Malphite", diff: "easy", img: "Malphite", spells: ["Flash", "Barrier"],
              ult: "130s / 105s / 80s", cheese: false,
              pros: "Il ne peut pas te tuer. Dive-le avec R.",
              cons: "Il est plus utile en teamfight." },
              
            { id: "Sion", name: "Sion", diff: "easy", img: "Sion", spells: ["Flash", "Barrier"],
              ult: "140s / 100s / 60s", cheese: true,
              pros: "Q-hold annule son A. Cheese le niveau 1.",
              cons: "Revient toujours sur la lane." },
              
            { id: "Ornn", name: "Ornn", diff: "medium", img: "Ornn", spells: ["Flash", "Teleport"],
              ult: "140s / 120s / 100s", cheese: false,
              pros: "Annule son R avec ton R.",
              cons: "Tr√®s tanky et fait mal." },
              
            { id: "Shen", name: "Shen", diff: "easy", img: "Shen", spells: ["Flash", "Teleport"],
              ult: "200s / 180s / 160s", cheese: false,
              pros: "Annule son R avec E ou R. Prends la tour.",
              cons: "Sa zone W bloque tes attaques." },
              
            { id: "TahmKench", name: "Tahm Kench", diff: "hard", img: "TahmKench", spells: ["Flash", "Barrier"],
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Farm et attends le jungler.",
              cons: "Te bat en duel. Attention √† sa tour." },
              
            { id: "Chogath", name: "Cho'Gath", diff: "medium", img: "Chogath", spells: ["Flash", "Barrier"],
              ult: "80s (Flat)", cheese: false,
              pros: "Esquive son A (Q) avec ta vitesse.",
              cons: "Son R t'ex√©cute tr√®s t√¥t." },
              
            { id: "Mundo", name: "Dr. Mundo", diff: "easy", img: "DrMundo", spells: ["Flash", "Ignite"],
              ult: "110s (Flat)", cheese: true,
              pros: "Ton soin bat le sien en early. Cheese niveau 1.",
              cons: "Prends anti-heal." },
              
            { id: "KSante", name: "K'Sante", diff: "medium", img: "KSante", spells: ["Flash", "Ghost"],
              ult: "120s / 100s / 80s", cheese: false,
              pros: "Pas assez de d√©g√¢ts pour te tuer early.",
              cons: "Beaucoup de CC, attention aux murs." },

            { id: "Vayne", name: "Vayne", diff: "hard", img: "Vayne", spells: ["Flash", "Ghost"],
              ult: "100s / 85s / 70s", cheese: false,
              pros: "Si tu touches R, elle meurt.",
              cons: "Te kite √† l'infini. Condemn (E) au mur = mort." },
              
            { id: "Quinn", name: "Quinn", diff: "hard", img: "Quinn", spells: ["Flash", "Ghost"],
              ult: "140s / 115s / 90s", cheese: false,
              pros: "Niveau 6, suis-la avec ton passif.",
              cons: "Aveuglement et saut t'emp√™chent de l'atteindre." },
              
            { id: "Jayce", name: "Jayce", diff: "medium", img: "Jayce", spells: ["Flash", "Ghost"],
              ult: "N/A (Change Form)", cheese: false,
              pros: "S'il passe en marteau, active E.",
              cons: "Poke tr√®s fort." },
              
            { id: "Kennen", name: "Kennen", diff: "medium", img: "Kennen", spells: ["Flash", "Barrier"],
              ult: "120s (Flat)", cheese: false,
              pros: "Ton Q suit son dash. Fear-le hors ulti.",
              cons: "Stun p√©nible. Prends t√©nacit√©." },
              
            { id: "Gnar", name: "Gnar", diff: "medium", img: "Gnar", spells: ["Flash", "Ghost"],
              ult: "90s / 60s / 30s", cheese: false,
              pros: "Tue-le quand il est petit.",
              cons: "Mega-Gnar a trop de CC." },
              
            { id: "Kayle", name: "Kayle", diff: "easy", img: "Kayle", spells: ["Flash", "Ghost"],
              ult: "160s / 120s / 80s", cheese: true,
              pros: "Abuse-la pr√©-6. Dive en boucle. Cheese niveau 1.",
              cons: "Niveau 16 = Perdu." },
              
            { id: "Urgot", name: "Urgot", diff: "medium", img: "Urgot", spells: ["Flash", "Barrier"],
              ult: "100s / 85s / 70s", cheese: false,
              pros: "R permet de regen au dessus du seuil d'execute.",
              cons: "Tourne autour de lui (passif)." },

            { id: "Tryndamere", name: "Tryndamere", diff: "medium", img: "Tryndamere", spells: ["Flash", "Barrier"],
              ult: "130s / 110s / 90s", cheese: false,
              pros: "Kite son R avec Fear. Randuin op.",
              cons: "Chance critique niveau 1." },
              
            { id: "Volibear", name: "Volibear", diff: "hard", img: "Volibear", spells: ["Flash", "Barrier"],
              ult: "160s / 140s / 120s", cheese: false,
              pros: "Esquive E (foudre).",
              cons: "Se soigne autant que toi et burst fort." },
              
            { id: "Olaf", name: "Olaf", diff: "hard", img: "Olaf", spells: ["Flash", "Barrier"],
              ult: "100s / 90s / 80s", cheese: false,
              pros: "Ne fight pas niveau 1.",
              cons: "R annule tes CC. Pire counter." },
              
            { id: "Yorick", name: "Yorick", diff: "medium", img: "Yorick", spells: ["Flash", "Tp"],
              ult: "160s / 130s / 100s", cheese: false,
              pros: "Tue les goules. Fuis la cage.",
              cons: "Bloqu√© dans cage = mort." },
              
            { id: "Illaoi", name: "Illaoi", diff: "hard", img: "Illaoi", spells: ["Flash", "Barrier"],
              ult: "120s / 105s / 90s", cheese: false,
              pros: "Esquive E ou fuis.",
              cons: "E + R = Mort instantan√©e." },
              
            { id: "Nasus", name: "Nasus", diff: "easy", img: "Nasus", spells: ["Flash", "Ghost"],
              ult: "120s (Flat)", cheese: true,
              pros: "D√©truis-le early. Cheese possible niveau 1.",
              cons: "Wither (W) casse ta vitesse d'attaque." },
              
            { id: "Mordekaiser", name: "Mordekaiser", diff: "medium", img: "Mordekaiser", spells: ["Flash", "Barrier"],
              ult: "140s / 120s / 100s", cheese: false,
              pros: "Q-hold esquive son A.",
              cons: "Te vole tes stats dans son R." },
              
            { id: "Yone", name: "Yone", diff: "easy", img: "Yone", spells: ["Flash", "Barrier"],
              ult: "120s / 100s / 80s", cheese: true,
              pros: "Fragile. E le d√©truit. Cheese niveau 1.",
              cons: "Garde R pour apr√®s son E." },
              
            { id: "Akali", name: "Akali", diff: "hard", img: "Akali", spells: ["Flash", "Barrier"],
              ult: "100s / 80s / 60s", cheese: false,
              pros: "R√©v√®le-la avec ton R ou passif.",
              cons: "Son linceul (W) annule tes attaques." }
        ];

        // --- DOM ---
        const grid = document.getElementById('grid');
        const search = document.getElementById('searchInput');
        const modal = document.getElementById('modal');
        const mTitle = document.getElementById('modal-title');
        const mHeader = document.getElementById('modal-header');
        const mPros = document.getElementById('modal-pros');
        const mCons = document.getElementById('modal-cons');
        const mNotes = document.getElementById('user-notes');
        const mSpells = document.getElementById('summoner-spells');
        const mUlt = document.getElementById('ult-timer-display');
        const mYoutube = document.getElementById('youtube-container');
        const saveBtn = document.getElementById('save-btn');
        const saveMsg = document.getElementById('save-msg');
        const closeBtn = document.querySelector('.close-btn');
        const exportBtn = document.getElementById('export-btn');
        const importBtnTrig = document.getElementById('import-btn-trigger');
        const importFile = document.getElementById('import-file');

        let currentFilter = 'all';
        let currentId = null;

        // --- FUNCTIONS ---

        function changeSkin(skinId) {
            document.body.style.backgroundImage = `url('https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Warwick_${skinId}.jpg')`;
        }

        function render(filterText = "") {
            if(!grid) return;
            grid.innerHTML = "";
            const filtered = data.filter(c => {
                const matchText = c.name.toLowerCase().includes(filterText.toLowerCase());
                const matchDiff = currentFilter === 'all' || c.diff === currentFilter;
                return matchText && matchDiff;
            });

            if (filtered.length === 0) {
                grid.innerHTML = "<p style='text-align:center; width:100%; color:#555;'>Aucun champion trouv√©.</p>";
                return;
            }

            filtered.forEach(c => {
                const div = document.createElement('div');
                div.className = 'card';
                // Ajout de l'icone Cheese si besoin
                const cheeseHtml = c.cheese ? '<div class="cheese-icon" title="Win Level 1">üßÄ</div>' : '';
                div.innerHTML = `
                    ${cheeseHtml}
                    <img src="https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${c.img}_0.jpg" loading="lazy">
                    <span class="difficulty ${c.diff}">${c.diff.toUpperCase()}</span>
                    <h3>${c.name}</h3>
                `;
                div.onclick = () => openModal(c);
                grid.appendChild(div);
            });
        }

        function filterData(type) {
            currentFilter = type;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.classList.contains(type) || (type === 'all' && !['easy', 'medium', 'hard'].some(cls => btn.classList.contains(cls)))) {
                    if(type === 'all' && btn.innerText === "TOUT VOIR") btn.classList.add('active');
                    if(type !== 'all' && btn.classList.contains(type)) btn.classList.add('active');
                }
            });
            render(search.value);
        }

        function openModal(c) {
            currentId = c.id;
            mTitle.innerText = c.name.toUpperCase();
            mHeader.style.backgroundImage = `url('https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${c.img}_0.jpg')`;
            mPros.innerText = c.pros;
            mCons.innerText = c.cons;
            mSpells.innerHTML = c.spells.map(spell => `<img src="${spellUrl(spell)}" class="spell-icon" title="${spell}">`).join('');
            
            // Ult Timer
            mUlt.innerHTML = `R CD: <span>${c.ult || 'N/A'}</span>`;

            // YouTube Button
            mYoutube.innerHTML = `
                <a href="https://www.youtube.com/results?search_query=Warwick+vs+${c.name}+Top+Challenger+DomisumReplay" 
                   target="_blank" class="youtube-btn">
                   <i class="fab fa-youtube"></i> VOIR REPLAY
                </a>
            `;

            mNotes.value = localStorage.getItem(`ww_note_${c.id}`) || "";
            modal.style.display = "block";
            saveMsg.style.opacity = "0";
        }

        saveBtn.onclick = () => {
            if(currentId) {
                localStorage.setItem(`ww_note_${currentId}`, mNotes.value);
                saveMsg.style.opacity = "1";
                setTimeout(() => { saveMsg.style.opacity = "0"; }, 2000);
            }
        };

        exportBtn.onclick = () => {
            let exportData = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith('ww_note_')) {
                    exportData[key] = localStorage.getItem(key);
                }
            }
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportData));
            const dlAnchor = document.createElement('a');
            dlAnchor.setAttribute("href", dataStr);
            dlAnchor.setAttribute("download", "warwick_notes.json");
            document.body.appendChild(dlAnchor);
            dlAnchor.click();
            dlAnchor.remove();
        };

        importBtnTrig.onclick = () => importFile.click();

        importFile.onchange = (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (event) => {
                try {
                    const imported = JSON.parse(event.target.result);
                    Object.keys(imported).forEach(key => {
                        if(key.startsWith('ww_note_')) localStorage.setItem(key, imported[key]);
                    });
                    alert("Notes charg√©es !");
                    location.reload();
                } catch(err) { alert("Erreur fichier."); }
            };
            reader.readAsText(file);
        };

        search.oninput = (e) => render(e.target.value);
        closeBtn.onclick = () => modal.style.display = "none";
        window.onclick = (e) => { if(e.target == modal) modal.style.display = "none"; };

        render();
    </script>
</body>
</html>
